"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/svelte-i18n";
exports.ids = ["vendor-chunks/svelte-i18n"];
exports.modules = {

/***/ "(ssr)/./node_modules/svelte-i18n/dist/runtime.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/svelte-i18n/dist/runtime.esm.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: () => (/* binding */ $format),\n/* harmony export */   addMessages: () => (/* binding */ addMessages),\n/* harmony export */   date: () => (/* binding */ $formatDate),\n/* harmony export */   defineMessages: () => (/* binding */ defineMessages),\n/* harmony export */   dictionary: () => (/* binding */ $dictionary),\n/* harmony export */   format: () => (/* binding */ $format),\n/* harmony export */   getDateFormatter: () => (/* binding */ getDateFormatter),\n/* harmony export */   getLocaleFromHash: () => (/* binding */ getLocaleFromHash),\n/* harmony export */   getLocaleFromHostname: () => (/* binding */ getLocaleFromHostname),\n/* harmony export */   getLocaleFromNavigator: () => (/* binding */ getLocaleFromNavigator),\n/* harmony export */   getLocaleFromPathname: () => (/* binding */ getLocaleFromPathname),\n/* harmony export */   getLocaleFromQueryString: () => (/* binding */ getLocaleFromQueryString),\n/* harmony export */   getMessageFormatter: () => (/* binding */ getMessageFormatter),\n/* harmony export */   getNumberFormatter: () => (/* binding */ getNumberFormatter),\n/* harmony export */   getTimeFormatter: () => (/* binding */ getTimeFormatter),\n/* harmony export */   init: () => (/* binding */ init),\n/* harmony export */   isLoading: () => (/* binding */ $isLoading),\n/* harmony export */   json: () => (/* binding */ $getJSON),\n/* harmony export */   locale: () => (/* binding */ $locale),\n/* harmony export */   locales: () => (/* binding */ $locales),\n/* harmony export */   number: () => (/* binding */ $formatNumber),\n/* harmony export */   register: () => (/* binding */ registerLocaleLoader),\n/* harmony export */   t: () => (/* binding */ $format),\n/* harmony export */   time: () => (/* binding */ $formatTime),\n/* harmony export */   unwrapFunctionStore: () => (/* binding */ unwrapFunctionStore),\n/* harmony export */   waitLocale: () => (/* binding */ waitLocale)\n/* harmony export */ });\n/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/store */ \"(ssr)/./node_modules/svelte/store/index.mjs\");\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deepmerge */ \"(ssr)/./node_modules/deepmerge/dist/cjs.js\");\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var intl_messageformat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! intl-messageformat */ \"(ssr)/./node_modules/intl-messageformat/lib/src/core.js\");\n\n\n\n\nfunction delve(obj, fullKey) {\n  if (fullKey == null)\n    return void 0;\n  if (fullKey in obj) {\n    return obj[fullKey];\n  }\n  const keys = fullKey.split(\".\");\n  let result = obj;\n  for (let p = 0; p < keys.length; p++) {\n    if (typeof result === \"object\") {\n      if (p > 0) {\n        const partialKey = keys.slice(p, keys.length).join(\".\");\n        if (partialKey in result) {\n          result = result[partialKey];\n          break;\n        }\n      }\n      result = result[keys[p]];\n    } else {\n      result = void 0;\n    }\n  }\n  return result;\n}\n\nconst lookupCache = {};\nconst addToCache = (path, locale, message) => {\n  if (!message)\n    return message;\n  if (!(locale in lookupCache))\n    lookupCache[locale] = {};\n  if (!(path in lookupCache[locale]))\n    lookupCache[locale][path] = message;\n  return message;\n};\nconst lookup = (path, refLocale) => {\n  if (refLocale == null)\n    return void 0;\n  if (refLocale in lookupCache && path in lookupCache[refLocale]) {\n    return lookupCache[refLocale][path];\n  }\n  const locales = getPossibleLocales(refLocale);\n  for (let i = 0; i < locales.length; i++) {\n    const locale = locales[i];\n    const message = getMessageFromDictionary(locale, path);\n    if (message) {\n      return addToCache(path, refLocale, message);\n    }\n  }\n  return void 0;\n};\n\nlet dictionary;\nconst $dictionary = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.writable)({});\nfunction getLocaleDictionary(locale) {\n  return dictionary[locale] || null;\n}\nfunction hasLocaleDictionary(locale) {\n  return locale in dictionary;\n}\nfunction getMessageFromDictionary(locale, id) {\n  if (!hasLocaleDictionary(locale)) {\n    return null;\n  }\n  const localeDictionary = getLocaleDictionary(locale);\n  const match = delve(localeDictionary, id);\n  return match;\n}\nfunction getClosestAvailableLocale(refLocale) {\n  if (refLocale == null)\n    return void 0;\n  const relatedLocales = getPossibleLocales(refLocale);\n  for (let i = 0; i < relatedLocales.length; i++) {\n    const locale = relatedLocales[i];\n    if (hasLocaleDictionary(locale)) {\n      return locale;\n    }\n  }\n  return void 0;\n}\nfunction addMessages(locale, ...partials) {\n  delete lookupCache[locale];\n  $dictionary.update((d) => {\n    d[locale] = deepmerge__WEBPACK_IMPORTED_MODULE_1___default().all([d[locale] || {}, ...partials]);\n    return d;\n  });\n}\nconst $locales = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)(\n  [$dictionary],\n  ([dictionary2]) => Object.keys(dictionary2)\n);\n$dictionary.subscribe((newDictionary) => dictionary = newDictionary);\n\nconst queue = {};\nfunction createLocaleQueue(locale) {\n  queue[locale] = /* @__PURE__ */ new Set();\n}\nfunction removeLoaderFromQueue(locale, loader) {\n  queue[locale].delete(loader);\n  if (queue[locale].size === 0) {\n    delete queue[locale];\n  }\n}\nfunction getLocaleQueue(locale) {\n  return queue[locale];\n}\nfunction getLocalesQueues(locale) {\n  return getPossibleLocales(locale).map((localeItem) => {\n    const localeQueue = getLocaleQueue(localeItem);\n    return [localeItem, localeQueue ? [...localeQueue] : []];\n  }).filter(([, localeQueue]) => localeQueue.length > 0);\n}\nfunction hasLocaleQueue(locale) {\n  if (locale == null)\n    return false;\n  return getPossibleLocales(locale).some(\n    (localeQueue) => {\n      var _a;\n      return (_a = getLocaleQueue(localeQueue)) == null ? void 0 : _a.size;\n    }\n  );\n}\nfunction loadLocaleQueue(locale, localeQueue) {\n  const allLoadersPromise = Promise.all(\n    localeQueue.map((loader) => {\n      removeLoaderFromQueue(locale, loader);\n      return loader().then((partial) => partial.default || partial);\n    })\n  );\n  return allLoadersPromise.then((partials) => addMessages(locale, ...partials));\n}\nconst activeFlushes = {};\nfunction flush(locale) {\n  if (!hasLocaleQueue(locale)) {\n    if (locale in activeFlushes) {\n      return activeFlushes[locale];\n    }\n    return Promise.resolve();\n  }\n  const queues = getLocalesQueues(locale);\n  activeFlushes[locale] = Promise.all(\n    queues.map(\n      ([localeName, localeQueue]) => loadLocaleQueue(localeName, localeQueue)\n    )\n  ).then(() => {\n    if (hasLocaleQueue(locale)) {\n      return flush(locale);\n    }\n    delete activeFlushes[locale];\n  });\n  return activeFlushes[locale];\n}\nfunction registerLocaleLoader(locale, loader) {\n  if (!getLocaleQueue(locale))\n    createLocaleQueue(locale);\n  const localeQueue = getLocaleQueue(locale);\n  if (getLocaleQueue(locale).has(loader))\n    return;\n  if (!hasLocaleDictionary(locale)) {\n    $dictionary.update((d) => {\n      d[locale] = {};\n      return d;\n    });\n  }\n  localeQueue.add(loader);\n}\n\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __objRest$1 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$2.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$2.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst defaultFormats = {\n  number: {\n    scientific: { notation: \"scientific\" },\n    engineering: { notation: \"engineering\" },\n    compactLong: { notation: \"compact\", compactDisplay: \"long\" },\n    compactShort: { notation: \"compact\", compactDisplay: \"short\" }\n  },\n  date: {\n    short: { month: \"numeric\", day: \"numeric\", year: \"2-digit\" },\n    medium: { month: \"short\", day: \"numeric\", year: \"numeric\" },\n    long: { month: \"long\", day: \"numeric\", year: \"numeric\" },\n    full: { weekday: \"long\", month: \"long\", day: \"numeric\", year: \"numeric\" }\n  },\n  time: {\n    short: { hour: \"numeric\", minute: \"numeric\" },\n    medium: { hour: \"numeric\", minute: \"numeric\", second: \"numeric\" },\n    long: {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n      timeZoneName: \"short\"\n    },\n    full: {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n      timeZoneName: \"short\"\n    }\n  }\n};\nfunction defaultMissingKeyHandler({ locale, id }) {\n  console.warn(\n    `[svelte-i18n] The message \"${id}\" was not found in \"${getPossibleLocales(\n      locale\n    ).join('\", \"')}\".${hasLocaleQueue(getCurrentLocale()) ? `\n\nNote: there are at least one loader still registered to this locale that wasn't executed.` : \"\"}`\n  );\n}\nconst defaultOptions = {\n  fallbackLocale: null,\n  loadingDelay: 200,\n  formats: defaultFormats,\n  warnOnMissingMessages: true,\n  handleMissingMessage: void 0,\n  ignoreTag: true\n};\nconst options = defaultOptions;\nfunction getOptions() {\n  return options;\n}\nfunction init(opts) {\n  const _a = opts, { formats } = _a, rest = __objRest$1(_a, [\"formats\"]);\n  let initialLocale = opts.fallbackLocale;\n  if (opts.initialLocale) {\n    try {\n      if (intl_messageformat__WEBPACK_IMPORTED_MODULE_2__.IntlMessageFormat.resolveLocale(opts.initialLocale)) {\n        initialLocale = opts.initialLocale;\n      }\n    } catch (e) {\n      console.warn(\n        `[svelte-i18n] The initial locale \"${opts.initialLocale}\" is not a valid locale.`\n      );\n    }\n  }\n  if (rest.warnOnMissingMessages) {\n    delete rest.warnOnMissingMessages;\n    if (rest.handleMissingMessage == null) {\n      rest.handleMissingMessage = defaultMissingKeyHandler;\n    } else {\n      console.warn(\n        '[svelte-i18n] The \"warnOnMissingMessages\" option is deprecated. Please use the \"handleMissingMessage\" option instead.'\n      );\n    }\n  }\n  Object.assign(options, rest, { initialLocale });\n  if (formats) {\n    if (\"number\" in formats) {\n      Object.assign(options.formats.number, formats.number);\n    }\n    if (\"date\" in formats) {\n      Object.assign(options.formats.date, formats.date);\n    }\n    if (\"time\" in formats) {\n      Object.assign(options.formats.time, formats.time);\n    }\n  }\n  return $locale.set(initialLocale);\n}\n\nconst $isLoading = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.writable)(false);\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nlet current;\nconst internalLocale = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.writable)(null);\nfunction getSubLocales(refLocale) {\n  return refLocale.split(\"-\").map((_, i, arr) => arr.slice(0, i + 1).join(\"-\")).reverse();\n}\nfunction getPossibleLocales(refLocale, fallbackLocale = getOptions().fallbackLocale) {\n  const locales = getSubLocales(refLocale);\n  if (fallbackLocale) {\n    return [.../* @__PURE__ */ new Set([...locales, ...getSubLocales(fallbackLocale)])];\n  }\n  return locales;\n}\nfunction getCurrentLocale() {\n  return current != null ? current : void 0;\n}\ninternalLocale.subscribe((newLocale) => {\n  current = newLocale != null ? newLocale : void 0;\n  if (typeof window !== \"undefined\" && newLocale != null) {\n    document.documentElement.setAttribute(\"lang\", newLocale);\n  }\n});\nconst set = (newLocale) => {\n  if (newLocale && getClosestAvailableLocale(newLocale) && hasLocaleQueue(newLocale)) {\n    const { loadingDelay } = getOptions();\n    let loadingTimer;\n    if (typeof window !== \"undefined\" && getCurrentLocale() != null && loadingDelay) {\n      loadingTimer = window.setTimeout(\n        () => $isLoading.set(true),\n        loadingDelay\n      );\n    } else {\n      $isLoading.set(true);\n    }\n    return flush(newLocale).then(() => {\n      internalLocale.set(newLocale);\n    }).finally(() => {\n      clearTimeout(loadingTimer);\n      $isLoading.set(false);\n    });\n  }\n  return internalLocale.set(newLocale);\n};\nconst $locale = __spreadProps(__spreadValues$1({}, internalLocale), {\n  set\n});\n\nconst getFromQueryString = (queryString, key) => {\n  const keyVal = queryString.split(\"&\").find((i) => i.indexOf(`${key}=`) === 0);\n  if (keyVal) {\n    return keyVal.split(\"=\").pop();\n  }\n  return null;\n};\nconst getFirstMatch = (base, pattern) => {\n  const match = pattern.exec(base);\n  if (!match)\n    return null;\n  return match[1] || null;\n};\nconst getLocaleFromHostname = (hostname) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFirstMatch(window.location.hostname, hostname);\n};\nconst getLocaleFromPathname = (pathname) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFirstMatch(window.location.pathname, pathname);\n};\nconst getLocaleFromNavigator = () => {\n  if (typeof window === \"undefined\")\n    return null;\n  return window.navigator.language || window.navigator.languages[0];\n};\nconst getLocaleFromQueryString = (search) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFromQueryString(window.location.search.substr(1), search);\n};\nconst getLocaleFromHash = (hash) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFromQueryString(window.location.hash.substr(1), hash);\n};\n\nconst monadicMemoize = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  const memoizedFn = (arg) => {\n    const cacheKey = JSON.stringify(arg);\n    if (cacheKey in cache) {\n      return cache[cacheKey];\n    }\n    return cache[cacheKey] = fn(arg);\n  };\n  return memoizedFn;\n};\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst getIntlFormatterOptions = (type, name) => {\n  const { formats } = getOptions();\n  if (type in formats && name in formats[type]) {\n    return formats[type][name];\n  }\n  throw new Error(`[svelte-i18n] Unknown \"${name}\" ${type} format.`);\n};\nconst createNumberFormatter = monadicMemoize(\n  (_a) => {\n    var _b = _a, { locale, format } = _b, options = __objRest(_b, [\"locale\", \"format\"]);\n    if (locale == null) {\n      throw new Error('[svelte-i18n] A \"locale\" must be set to format numbers');\n    }\n    if (format) {\n      options = getIntlFormatterOptions(\"number\", format);\n    }\n    return new Intl.NumberFormat(locale, options);\n  }\n);\nconst createDateFormatter = monadicMemoize(\n  (_c) => {\n    var _d = _c, { locale, format } = _d, options = __objRest(_d, [\"locale\", \"format\"]);\n    if (locale == null) {\n      throw new Error('[svelte-i18n] A \"locale\" must be set to format dates');\n    }\n    if (format) {\n      options = getIntlFormatterOptions(\"date\", format);\n    } else if (Object.keys(options).length === 0) {\n      options = getIntlFormatterOptions(\"date\", \"short\");\n    }\n    return new Intl.DateTimeFormat(locale, options);\n  }\n);\nconst createTimeFormatter = monadicMemoize(\n  (_e) => {\n    var _f = _e, { locale, format } = _f, options = __objRest(_f, [\"locale\", \"format\"]);\n    if (locale == null) {\n      throw new Error(\n        '[svelte-i18n] A \"locale\" must be set to format time values'\n      );\n    }\n    if (format) {\n      options = getIntlFormatterOptions(\"time\", format);\n    } else if (Object.keys(options).length === 0) {\n      options = getIntlFormatterOptions(\"time\", \"short\");\n    }\n    return new Intl.DateTimeFormat(locale, options);\n  }\n);\nconst getNumberFormatter = (_g = {}) => {\n  var _h = _g, {\n    locale = getCurrentLocale()\n  } = _h, args = __objRest(_h, [\n    \"locale\"\n  ]);\n  return createNumberFormatter(__spreadValues({ locale }, args));\n};\nconst getDateFormatter = (_i = {}) => {\n  var _j = _i, {\n    locale = getCurrentLocale()\n  } = _j, args = __objRest(_j, [\n    \"locale\"\n  ]);\n  return createDateFormatter(__spreadValues({ locale }, args));\n};\nconst getTimeFormatter = (_k = {}) => {\n  var _l = _k, {\n    locale = getCurrentLocale()\n  } = _l, args = __objRest(_l, [\n    \"locale\"\n  ]);\n  return createTimeFormatter(__spreadValues({ locale }, args));\n};\nconst getMessageFormatter = monadicMemoize(\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  (message, locale = getCurrentLocale()) => new intl_messageformat__WEBPACK_IMPORTED_MODULE_2__.IntlMessageFormat(message, locale, getOptions().formats, {\n    ignoreTag: getOptions().ignoreTag\n  })\n);\n\nconst formatMessage = (id, options = {}) => {\n  var _a, _b, _c, _d;\n  let messageObj = options;\n  if (typeof id === \"object\") {\n    messageObj = id;\n    id = messageObj.id;\n  }\n  const {\n    values,\n    locale = getCurrentLocale(),\n    default: defaultValue\n  } = messageObj;\n  if (locale == null) {\n    throw new Error(\n      \"[svelte-i18n] Cannot format a message without first setting the initial locale.\"\n    );\n  }\n  let message = lookup(id, locale);\n  if (!message) {\n    message = (_d = (_c = (_b = (_a = getOptions()).handleMissingMessage) == null ? void 0 : _b.call(_a, { locale, id, defaultValue })) != null ? _c : defaultValue) != null ? _d : id;\n  } else if (typeof message !== \"string\") {\n    console.warn(\n      `[svelte-i18n] Message with id \"${id}\" must be of type \"string\", found: \"${typeof message}\". Gettin its value through the \"$format\" method is deprecated; use the \"json\" method instead.`\n    );\n    return message;\n  }\n  if (!values) {\n    return message;\n  }\n  let result = message;\n  try {\n    result = getMessageFormatter(message, locale).format(values);\n  } catch (e) {\n    if (e instanceof Error) {\n      console.warn(\n        `[svelte-i18n] Message \"${id}\" has syntax error:`,\n        e.message\n      );\n    }\n  }\n  return result;\n};\nconst formatTime = (t, options) => {\n  return getTimeFormatter(options).format(t);\n};\nconst formatDate = (d, options) => {\n  return getDateFormatter(options).format(d);\n};\nconst formatNumber = (n, options) => {\n  return getNumberFormatter(options).format(n);\n};\nconst getJSON = (id, locale = getCurrentLocale()) => {\n  return lookup(id, locale);\n};\nconst $format = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)([$locale, $dictionary], () => formatMessage);\nconst $formatTime = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)([$locale], () => formatTime);\nconst $formatDate = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)([$locale], () => formatDate);\nconst $formatNumber = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)([$locale], () => formatNumber);\nconst $getJSON = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)([$locale, $dictionary], () => getJSON);\n\nfunction unwrapFunctionStore(store) {\n  let localReference;\n  const cancel = store.subscribe((value) => localReference = value);\n  const fn = (...args) => localReference(...args);\n  fn.freeze = cancel;\n  return fn;\n}\n\nfunction defineMessages(i) {\n  return i;\n}\nfunction waitLocale(locale) {\n  return flush(locale || getCurrentLocale() || getOptions().initialLocale);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWkxOG4vZGlzdC9ydW50aW1lLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDZjtBQUNxQjs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixzREFBUSxHQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwyQkFBMkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQWEsaUJBQWlCO0FBQzlDO0FBQ0EsR0FBRztBQUNIO0FBQ0EsaUJBQWlCLHFEQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTztBQUN2QixvQkFBb0IscURBQU87QUFDM0Isb0JBQW9CLHFEQUFPO0FBQzNCLHNCQUFzQixxREFBTztBQUM3QixpQkFBaUIscURBQU87O0FBRXhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2l0aHVic3RyZWFtaW5nLy4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1pMThuL2Rpc3QvcnVudGltZS5lc20uanM/MWZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3cml0YWJsZSwgZGVyaXZlZCB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQgZGVlcG1lcmdlIGZyb20gJ2RlZXBtZXJnZSc7XG5pbXBvcnQgeyBJbnRsTWVzc2FnZUZvcm1hdCB9IGZyb20gJ2ludGwtbWVzc2FnZWZvcm1hdCc7XG5cbmZ1bmN0aW9uIGRlbHZlKG9iaiwgZnVsbEtleSkge1xuICBpZiAoZnVsbEtleSA9PSBudWxsKVxuICAgIHJldHVybiB2b2lkIDA7XG4gIGlmIChmdWxsS2V5IGluIG9iaikge1xuICAgIHJldHVybiBvYmpbZnVsbEtleV07XG4gIH1cbiAgY29uc3Qga2V5cyA9IGZ1bGxLZXkuc3BsaXQoXCIuXCIpO1xuICBsZXQgcmVzdWx0ID0gb2JqO1xuICBmb3IgKGxldCBwID0gMDsgcCA8IGtleXMubGVuZ3RoOyBwKyspIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgaWYgKHAgPiAwKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxLZXkgPSBrZXlzLnNsaWNlKHAsIGtleXMubGVuZ3RoKS5qb2luKFwiLlwiKTtcbiAgICAgICAgaWYgKHBhcnRpYWxLZXkgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3BhcnRpYWxLZXldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHQgPSByZXN1bHRba2V5c1twXV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgbG9va3VwQ2FjaGUgPSB7fTtcbmNvbnN0IGFkZFRvQ2FjaGUgPSAocGF0aCwgbG9jYWxlLCBtZXNzYWdlKSA9PiB7XG4gIGlmICghbWVzc2FnZSlcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgaWYgKCEobG9jYWxlIGluIGxvb2t1cENhY2hlKSlcbiAgICBsb29rdXBDYWNoZVtsb2NhbGVdID0ge307XG4gIGlmICghKHBhdGggaW4gbG9va3VwQ2FjaGVbbG9jYWxlXSkpXG4gICAgbG9va3VwQ2FjaGVbbG9jYWxlXVtwYXRoXSA9IG1lc3NhZ2U7XG4gIHJldHVybiBtZXNzYWdlO1xufTtcbmNvbnN0IGxvb2t1cCA9IChwYXRoLCByZWZMb2NhbGUpID0+IHtcbiAgaWYgKHJlZkxvY2FsZSA9PSBudWxsKVxuICAgIHJldHVybiB2b2lkIDA7XG4gIGlmIChyZWZMb2NhbGUgaW4gbG9va3VwQ2FjaGUgJiYgcGF0aCBpbiBsb29rdXBDYWNoZVtyZWZMb2NhbGVdKSB7XG4gICAgcmV0dXJuIGxvb2t1cENhY2hlW3JlZkxvY2FsZV1bcGF0aF07XG4gIH1cbiAgY29uc3QgbG9jYWxlcyA9IGdldFBvc3NpYmxlTG9jYWxlcyhyZWZMb2NhbGUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsb2NhbGUgPSBsb2NhbGVzW2ldO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRNZXNzYWdlRnJvbURpY3Rpb25hcnkobG9jYWxlLCBwYXRoKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGFkZFRvQ2FjaGUocGF0aCwgcmVmTG9jYWxlLCBtZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn07XG5cbmxldCBkaWN0aW9uYXJ5O1xuY29uc3QgJGRpY3Rpb25hcnkgPSB3cml0YWJsZSh7fSk7XG5mdW5jdGlvbiBnZXRMb2NhbGVEaWN0aW9uYXJ5KGxvY2FsZSkge1xuICByZXR1cm4gZGljdGlvbmFyeVtsb2NhbGVdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBoYXNMb2NhbGVEaWN0aW9uYXJ5KGxvY2FsZSkge1xuICByZXR1cm4gbG9jYWxlIGluIGRpY3Rpb25hcnk7XG59XG5mdW5jdGlvbiBnZXRNZXNzYWdlRnJvbURpY3Rpb25hcnkobG9jYWxlLCBpZCkge1xuICBpZiAoIWhhc0xvY2FsZURpY3Rpb25hcnkobG9jYWxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGxvY2FsZURpY3Rpb25hcnkgPSBnZXRMb2NhbGVEaWN0aW9uYXJ5KGxvY2FsZSk7XG4gIGNvbnN0IG1hdGNoID0gZGVsdmUobG9jYWxlRGljdGlvbmFyeSwgaWQpO1xuICByZXR1cm4gbWF0Y2g7XG59XG5mdW5jdGlvbiBnZXRDbG9zZXN0QXZhaWxhYmxlTG9jYWxlKHJlZkxvY2FsZSkge1xuICBpZiAocmVmTG9jYWxlID09IG51bGwpXG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgY29uc3QgcmVsYXRlZExvY2FsZXMgPSBnZXRQb3NzaWJsZUxvY2FsZXMocmVmTG9jYWxlKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWxhdGVkTG9jYWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGxvY2FsZSA9IHJlbGF0ZWRMb2NhbGVzW2ldO1xuICAgIGlmIChoYXNMb2NhbGVEaWN0aW9uYXJ5KGxvY2FsZSkpIHtcbiAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBhZGRNZXNzYWdlcyhsb2NhbGUsIC4uLnBhcnRpYWxzKSB7XG4gIGRlbGV0ZSBsb29rdXBDYWNoZVtsb2NhbGVdO1xuICAkZGljdGlvbmFyeS51cGRhdGUoKGQpID0+IHtcbiAgICBkW2xvY2FsZV0gPSBkZWVwbWVyZ2UuYWxsKFtkW2xvY2FsZV0gfHwge30sIC4uLnBhcnRpYWxzXSk7XG4gICAgcmV0dXJuIGQ7XG4gIH0pO1xufVxuY29uc3QgJGxvY2FsZXMgPSBkZXJpdmVkKFxuICBbJGRpY3Rpb25hcnldLFxuICAoW2RpY3Rpb25hcnkyXSkgPT4gT2JqZWN0LmtleXMoZGljdGlvbmFyeTIpXG4pO1xuJGRpY3Rpb25hcnkuc3Vic2NyaWJlKChuZXdEaWN0aW9uYXJ5KSA9PiBkaWN0aW9uYXJ5ID0gbmV3RGljdGlvbmFyeSk7XG5cbmNvbnN0IHF1ZXVlID0ge307XG5mdW5jdGlvbiBjcmVhdGVMb2NhbGVRdWV1ZShsb2NhbGUpIHtcbiAgcXVldWVbbG9jYWxlXSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG59XG5mdW5jdGlvbiByZW1vdmVMb2FkZXJGcm9tUXVldWUobG9jYWxlLCBsb2FkZXIpIHtcbiAgcXVldWVbbG9jYWxlXS5kZWxldGUobG9hZGVyKTtcbiAgaWYgKHF1ZXVlW2xvY2FsZV0uc2l6ZSA9PT0gMCkge1xuICAgIGRlbGV0ZSBxdWV1ZVtsb2NhbGVdO1xuICB9XG59XG5mdW5jdGlvbiBnZXRMb2NhbGVRdWV1ZShsb2NhbGUpIHtcbiAgcmV0dXJuIHF1ZXVlW2xvY2FsZV07XG59XG5mdW5jdGlvbiBnZXRMb2NhbGVzUXVldWVzKGxvY2FsZSkge1xuICByZXR1cm4gZ2V0UG9zc2libGVMb2NhbGVzKGxvY2FsZSkubWFwKChsb2NhbGVJdGVtKSA9PiB7XG4gICAgY29uc3QgbG9jYWxlUXVldWUgPSBnZXRMb2NhbGVRdWV1ZShsb2NhbGVJdGVtKTtcbiAgICByZXR1cm4gW2xvY2FsZUl0ZW0sIGxvY2FsZVF1ZXVlID8gWy4uLmxvY2FsZVF1ZXVlXSA6IFtdXTtcbiAgfSkuZmlsdGVyKChbLCBsb2NhbGVRdWV1ZV0pID0+IGxvY2FsZVF1ZXVlLmxlbmd0aCA+IDApO1xufVxuZnVuY3Rpb24gaGFzTG9jYWxlUXVldWUobG9jYWxlKSB7XG4gIGlmIChsb2NhbGUgPT0gbnVsbClcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBnZXRQb3NzaWJsZUxvY2FsZXMobG9jYWxlKS5zb21lKFxuICAgIChsb2NhbGVRdWV1ZSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIChfYSA9IGdldExvY2FsZVF1ZXVlKGxvY2FsZVF1ZXVlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpemU7XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gbG9hZExvY2FsZVF1ZXVlKGxvY2FsZSwgbG9jYWxlUXVldWUpIHtcbiAgY29uc3QgYWxsTG9hZGVyc1Byb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICBsb2NhbGVRdWV1ZS5tYXAoKGxvYWRlcikgPT4ge1xuICAgICAgcmVtb3ZlTG9hZGVyRnJvbVF1ZXVlKGxvY2FsZSwgbG9hZGVyKTtcbiAgICAgIHJldHVybiBsb2FkZXIoKS50aGVuKChwYXJ0aWFsKSA9PiBwYXJ0aWFsLmRlZmF1bHQgfHwgcGFydGlhbCk7XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIGFsbExvYWRlcnNQcm9taXNlLnRoZW4oKHBhcnRpYWxzKSA9PiBhZGRNZXNzYWdlcyhsb2NhbGUsIC4uLnBhcnRpYWxzKSk7XG59XG5jb25zdCBhY3RpdmVGbHVzaGVzID0ge307XG5mdW5jdGlvbiBmbHVzaChsb2NhbGUpIHtcbiAgaWYgKCFoYXNMb2NhbGVRdWV1ZShsb2NhbGUpKSB7XG4gICAgaWYgKGxvY2FsZSBpbiBhY3RpdmVGbHVzaGVzKSB7XG4gICAgICByZXR1cm4gYWN0aXZlRmx1c2hlc1tsb2NhbGVdO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgcXVldWVzID0gZ2V0TG9jYWxlc1F1ZXVlcyhsb2NhbGUpO1xuICBhY3RpdmVGbHVzaGVzW2xvY2FsZV0gPSBQcm9taXNlLmFsbChcbiAgICBxdWV1ZXMubWFwKFxuICAgICAgKFtsb2NhbGVOYW1lLCBsb2NhbGVRdWV1ZV0pID0+IGxvYWRMb2NhbGVRdWV1ZShsb2NhbGVOYW1lLCBsb2NhbGVRdWV1ZSlcbiAgICApXG4gICkudGhlbigoKSA9PiB7XG4gICAgaWYgKGhhc0xvY2FsZVF1ZXVlKGxvY2FsZSkpIHtcbiAgICAgIHJldHVybiBmbHVzaChsb2NhbGUpO1xuICAgIH1cbiAgICBkZWxldGUgYWN0aXZlRmx1c2hlc1tsb2NhbGVdO1xuICB9KTtcbiAgcmV0dXJuIGFjdGl2ZUZsdXNoZXNbbG9jYWxlXTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyTG9jYWxlTG9hZGVyKGxvY2FsZSwgbG9hZGVyKSB7XG4gIGlmICghZ2V0TG9jYWxlUXVldWUobG9jYWxlKSlcbiAgICBjcmVhdGVMb2NhbGVRdWV1ZShsb2NhbGUpO1xuICBjb25zdCBsb2NhbGVRdWV1ZSA9IGdldExvY2FsZVF1ZXVlKGxvY2FsZSk7XG4gIGlmIChnZXRMb2NhbGVRdWV1ZShsb2NhbGUpLmhhcyhsb2FkZXIpKVxuICAgIHJldHVybjtcbiAgaWYgKCFoYXNMb2NhbGVEaWN0aW9uYXJ5KGxvY2FsZSkpIHtcbiAgICAkZGljdGlvbmFyeS51cGRhdGUoKGQpID0+IHtcbiAgICAgIGRbbG9jYWxlXSA9IHt9O1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSk7XG4gIH1cbiAgbG9jYWxlUXVldWUuYWRkKGxvYWRlcik7XG59XG5cbnZhciBfX2dldE93blByb3BTeW1ib2xzJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQyID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kMiA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19vYmpSZXN0JDEgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQyLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQyKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQyKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQyLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCBkZWZhdWx0Rm9ybWF0cyA9IHtcbiAgbnVtYmVyOiB7XG4gICAgc2NpZW50aWZpYzogeyBub3RhdGlvbjogXCJzY2llbnRpZmljXCIgfSxcbiAgICBlbmdpbmVlcmluZzogeyBub3RhdGlvbjogXCJlbmdpbmVlcmluZ1wiIH0sXG4gICAgY29tcGFjdExvbmc6IHsgbm90YXRpb246IFwiY29tcGFjdFwiLCBjb21wYWN0RGlzcGxheTogXCJsb25nXCIgfSxcbiAgICBjb21wYWN0U2hvcnQ6IHsgbm90YXRpb246IFwiY29tcGFjdFwiLCBjb21wYWN0RGlzcGxheTogXCJzaG9ydFwiIH1cbiAgfSxcbiAgZGF0ZToge1xuICAgIHNob3J0OiB7IG1vbnRoOiBcIm51bWVyaWNcIiwgZGF5OiBcIm51bWVyaWNcIiwgeWVhcjogXCIyLWRpZ2l0XCIgfSxcbiAgICBtZWRpdW06IHsgbW9udGg6IFwic2hvcnRcIiwgZGF5OiBcIm51bWVyaWNcIiwgeWVhcjogXCJudW1lcmljXCIgfSxcbiAgICBsb25nOiB7IG1vbnRoOiBcImxvbmdcIiwgZGF5OiBcIm51bWVyaWNcIiwgeWVhcjogXCJudW1lcmljXCIgfSxcbiAgICBmdWxsOiB7IHdlZWtkYXk6IFwibG9uZ1wiLCBtb250aDogXCJsb25nXCIsIGRheTogXCJudW1lcmljXCIsIHllYXI6IFwibnVtZXJpY1wiIH1cbiAgfSxcbiAgdGltZToge1xuICAgIHNob3J0OiB7IGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwibnVtZXJpY1wiIH0sXG4gICAgbWVkaXVtOiB7IGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwibnVtZXJpY1wiLCBzZWNvbmQ6IFwibnVtZXJpY1wiIH0sXG4gICAgbG9uZzoge1xuICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICBtaW51dGU6IFwibnVtZXJpY1wiLFxuICAgICAgc2Vjb25kOiBcIm51bWVyaWNcIixcbiAgICAgIHRpbWVab25lTmFtZTogXCJzaG9ydFwiXG4gICAgfSxcbiAgICBmdWxsOiB7XG4gICAgICBob3VyOiBcIm51bWVyaWNcIixcbiAgICAgIG1pbnV0ZTogXCJudW1lcmljXCIsXG4gICAgICBzZWNvbmQ6IFwibnVtZXJpY1wiLFxuICAgICAgdGltZVpvbmVOYW1lOiBcInNob3J0XCJcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBkZWZhdWx0TWlzc2luZ0tleUhhbmRsZXIoeyBsb2NhbGUsIGlkIH0pIHtcbiAgY29uc29sZS53YXJuKFxuICAgIGBbc3ZlbHRlLWkxOG5dIFRoZSBtZXNzYWdlIFwiJHtpZH1cIiB3YXMgbm90IGZvdW5kIGluIFwiJHtnZXRQb3NzaWJsZUxvY2FsZXMoXG4gICAgICBsb2NhbGVcbiAgICApLmpvaW4oJ1wiLCBcIicpfVwiLiR7aGFzTG9jYWxlUXVldWUoZ2V0Q3VycmVudExvY2FsZSgpKSA/IGBcblxuTm90ZTogdGhlcmUgYXJlIGF0IGxlYXN0IG9uZSBsb2FkZXIgc3RpbGwgcmVnaXN0ZXJlZCB0byB0aGlzIGxvY2FsZSB0aGF0IHdhc24ndCBleGVjdXRlZC5gIDogXCJcIn1gXG4gICk7XG59XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZmFsbGJhY2tMb2NhbGU6IG51bGwsXG4gIGxvYWRpbmdEZWxheTogMjAwLFxuICBmb3JtYXRzOiBkZWZhdWx0Rm9ybWF0cyxcbiAgd2Fybk9uTWlzc2luZ01lc3NhZ2VzOiB0cnVlLFxuICBoYW5kbGVNaXNzaW5nTWVzc2FnZTogdm9pZCAwLFxuICBpZ25vcmVUYWc6IHRydWVcbn07XG5jb25zdCBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XG5mdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICByZXR1cm4gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIGluaXQob3B0cykge1xuICBjb25zdCBfYSA9IG9wdHMsIHsgZm9ybWF0cyB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QkMShfYSwgW1wiZm9ybWF0c1wiXSk7XG4gIGxldCBpbml0aWFsTG9jYWxlID0gb3B0cy5mYWxsYmFja0xvY2FsZTtcbiAgaWYgKG9wdHMuaW5pdGlhbExvY2FsZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoSW50bE1lc3NhZ2VGb3JtYXQucmVzb2x2ZUxvY2FsZShvcHRzLmluaXRpYWxMb2NhbGUpKSB7XG4gICAgICAgIGluaXRpYWxMb2NhbGUgPSBvcHRzLmluaXRpYWxMb2NhbGU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW3N2ZWx0ZS1pMThuXSBUaGUgaW5pdGlhbCBsb2NhbGUgXCIke29wdHMuaW5pdGlhbExvY2FsZX1cIiBpcyBub3QgYSB2YWxpZCBsb2NhbGUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlc3Qud2Fybk9uTWlzc2luZ01lc3NhZ2VzKSB7XG4gICAgZGVsZXRlIHJlc3Qud2Fybk9uTWlzc2luZ01lc3NhZ2VzO1xuICAgIGlmIChyZXN0LmhhbmRsZU1pc3NpbmdNZXNzYWdlID09IG51bGwpIHtcbiAgICAgIHJlc3QuaGFuZGxlTWlzc2luZ01lc3NhZ2UgPSBkZWZhdWx0TWlzc2luZ0tleUhhbmRsZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1tzdmVsdGUtaTE4bl0gVGhlIFwid2Fybk9uTWlzc2luZ01lc3NhZ2VzXCIgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdGhlIFwiaGFuZGxlTWlzc2luZ01lc3NhZ2VcIiBvcHRpb24gaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHJlc3QsIHsgaW5pdGlhbExvY2FsZSB9KTtcbiAgaWYgKGZvcm1hdHMpIHtcbiAgICBpZiAoXCJudW1iZXJcIiBpbiBmb3JtYXRzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMuZm9ybWF0cy5udW1iZXIsIGZvcm1hdHMubnVtYmVyKTtcbiAgICB9XG4gICAgaWYgKFwiZGF0ZVwiIGluIGZvcm1hdHMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucy5mb3JtYXRzLmRhdGUsIGZvcm1hdHMuZGF0ZSk7XG4gICAgfVxuICAgIGlmIChcInRpbWVcIiBpbiBmb3JtYXRzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMuZm9ybWF0cy50aW1lLCBmb3JtYXRzLnRpbWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJGxvY2FsZS5zZXQoaW5pdGlhbExvY2FsZSk7XG59XG5cbmNvbnN0ICRpc0xvYWRpbmcgPSB3cml0YWJsZShmYWxzZSk7XG5cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQxID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kMSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDEgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDEob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDEgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQxLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkMShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkMSlcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkMShiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQxLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQxKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG5sZXQgY3VycmVudDtcbmNvbnN0IGludGVybmFsTG9jYWxlID0gd3JpdGFibGUobnVsbCk7XG5mdW5jdGlvbiBnZXRTdWJMb2NhbGVzKHJlZkxvY2FsZSkge1xuICByZXR1cm4gcmVmTG9jYWxlLnNwbGl0KFwiLVwiKS5tYXAoKF8sIGksIGFycikgPT4gYXJyLnNsaWNlKDAsIGkgKyAxKS5qb2luKFwiLVwiKSkucmV2ZXJzZSgpO1xufVxuZnVuY3Rpb24gZ2V0UG9zc2libGVMb2NhbGVzKHJlZkxvY2FsZSwgZmFsbGJhY2tMb2NhbGUgPSBnZXRPcHRpb25zKCkuZmFsbGJhY2tMb2NhbGUpIHtcbiAgY29uc3QgbG9jYWxlcyA9IGdldFN1YkxvY2FsZXMocmVmTG9jYWxlKTtcbiAgaWYgKGZhbGxiYWNrTG9jYWxlKSB7XG4gICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4ubG9jYWxlcywgLi4uZ2V0U3ViTG9jYWxlcyhmYWxsYmFja0xvY2FsZSldKV07XG4gIH1cbiAgcmV0dXJuIGxvY2FsZXM7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50TG9jYWxlKCkge1xuICByZXR1cm4gY3VycmVudCAhPSBudWxsID8gY3VycmVudCA6IHZvaWQgMDtcbn1cbmludGVybmFsTG9jYWxlLnN1YnNjcmliZSgobmV3TG9jYWxlKSA9PiB7XG4gIGN1cnJlbnQgPSBuZXdMb2NhbGUgIT0gbnVsbCA/IG5ld0xvY2FsZSA6IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgbmV3TG9jYWxlICE9IG51bGwpIHtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwibGFuZ1wiLCBuZXdMb2NhbGUpO1xuICB9XG59KTtcbmNvbnN0IHNldCA9IChuZXdMb2NhbGUpID0+IHtcbiAgaWYgKG5ld0xvY2FsZSAmJiBnZXRDbG9zZXN0QXZhaWxhYmxlTG9jYWxlKG5ld0xvY2FsZSkgJiYgaGFzTG9jYWxlUXVldWUobmV3TG9jYWxlKSkge1xuICAgIGNvbnN0IHsgbG9hZGluZ0RlbGF5IH0gPSBnZXRPcHRpb25zKCk7XG4gICAgbGV0IGxvYWRpbmdUaW1lcjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnZXRDdXJyZW50TG9jYWxlKCkgIT0gbnVsbCAmJiBsb2FkaW5nRGVsYXkpIHtcbiAgICAgIGxvYWRpbmdUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiAkaXNMb2FkaW5nLnNldCh0cnVlKSxcbiAgICAgICAgbG9hZGluZ0RlbGF5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAkaXNMb2FkaW5nLnNldCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZsdXNoKG5ld0xvY2FsZSkudGhlbigoKSA9PiB7XG4gICAgICBpbnRlcm5hbExvY2FsZS5zZXQobmV3TG9jYWxlKTtcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChsb2FkaW5nVGltZXIpO1xuICAgICAgJGlzTG9hZGluZy5zZXQoZmFsc2UpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnRlcm5hbExvY2FsZS5zZXQobmV3TG9jYWxlKTtcbn07XG5jb25zdCAkbG9jYWxlID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyQxKHt9LCBpbnRlcm5hbExvY2FsZSksIHtcbiAgc2V0XG59KTtcblxuY29uc3QgZ2V0RnJvbVF1ZXJ5U3RyaW5nID0gKHF1ZXJ5U3RyaW5nLCBrZXkpID0+IHtcbiAgY29uc3Qga2V5VmFsID0gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLmZpbmQoKGkpID0+IGkuaW5kZXhPZihgJHtrZXl9PWApID09PSAwKTtcbiAgaWYgKGtleVZhbCkge1xuICAgIHJldHVybiBrZXlWYWwuc3BsaXQoXCI9XCIpLnBvcCgpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGdldEZpcnN0TWF0Y2ggPSAoYmFzZSwgcGF0dGVybikgPT4ge1xuICBjb25zdCBtYXRjaCA9IHBhdHRlcm4uZXhlYyhiYXNlKTtcbiAgaWYgKCFtYXRjaClcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIG1hdGNoWzFdIHx8IG51bGw7XG59O1xuY29uc3QgZ2V0TG9jYWxlRnJvbUhvc3RuYW1lID0gKGhvc3RuYW1lKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybiBudWxsO1xuICByZXR1cm4gZ2V0Rmlyc3RNYXRjaCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIGhvc3RuYW1lKTtcbn07XG5jb25zdCBnZXRMb2NhbGVGcm9tUGF0aG5hbWUgPSAocGF0aG5hbWUpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVybiBnZXRGaXJzdE1hdGNoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgcGF0aG5hbWUpO1xufTtcbmNvbnN0IGdldExvY2FsZUZyb21OYXZpZ2F0b3IgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybiBudWxsO1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZSB8fCB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlc1swXTtcbn07XG5jb25zdCBnZXRMb2NhbGVGcm9tUXVlcnlTdHJpbmcgPSAoc2VhcmNoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybiBudWxsO1xuICByZXR1cm4gZ2V0RnJvbVF1ZXJ5U3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLCBzZWFyY2gpO1xufTtcbmNvbnN0IGdldExvY2FsZUZyb21IYXNoID0gKGhhc2gpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVybiBnZXRGcm9tUXVlcnlTdHJpbmcod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLCBoYXNoKTtcbn07XG5cbmNvbnN0IG1vbmFkaWNNZW1vaXplID0gKGZuKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGNvbnN0IG1lbW9pemVkRm4gPSAoYXJnKSA9PiB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBKU09OLnN0cmluZ2lmeShhcmcpO1xuICAgIGlmIChjYWNoZUtleSBpbiBjYWNoZSkge1xuICAgICAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSA9IGZuKGFyZyk7XG4gIH07XG4gIHJldHVybiBtZW1vaXplZEZuO1xufTtcblxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCBnZXRJbnRsRm9ybWF0dGVyT3B0aW9ucyA9ICh0eXBlLCBuYW1lKSA9PiB7XG4gIGNvbnN0IHsgZm9ybWF0cyB9ID0gZ2V0T3B0aW9ucygpO1xuICBpZiAodHlwZSBpbiBmb3JtYXRzICYmIG5hbWUgaW4gZm9ybWF0c1t0eXBlXSkge1xuICAgIHJldHVybiBmb3JtYXRzW3R5cGVdW25hbWVdO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihgW3N2ZWx0ZS1pMThuXSBVbmtub3duIFwiJHtuYW1lfVwiICR7dHlwZX0gZm9ybWF0LmApO1xufTtcbmNvbnN0IGNyZWF0ZU51bWJlckZvcm1hdHRlciA9IG1vbmFkaWNNZW1vaXplKFxuICAoX2EpID0+IHtcbiAgICB2YXIgX2IgPSBfYSwgeyBsb2NhbGUsIGZvcm1hdCB9ID0gX2IsIG9wdGlvbnMgPSBfX29ialJlc3QoX2IsIFtcImxvY2FsZVwiLCBcImZvcm1hdFwiXSk7XG4gICAgaWYgKGxvY2FsZSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tzdmVsdGUtaTE4bl0gQSBcImxvY2FsZVwiIG11c3QgYmUgc2V0IHRvIGZvcm1hdCBudW1iZXJzJyk7XG4gICAgfVxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIG9wdGlvbnMgPSBnZXRJbnRsRm9ybWF0dGVyT3B0aW9ucyhcIm51bWJlclwiLCBmb3JtYXQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucyk7XG4gIH1cbik7XG5jb25zdCBjcmVhdGVEYXRlRm9ybWF0dGVyID0gbW9uYWRpY01lbW9pemUoXG4gIChfYykgPT4ge1xuICAgIHZhciBfZCA9IF9jLCB7IGxvY2FsZSwgZm9ybWF0IH0gPSBfZCwgb3B0aW9ucyA9IF9fb2JqUmVzdChfZCwgW1wibG9jYWxlXCIsIFwiZm9ybWF0XCJdKTtcbiAgICBpZiAobG9jYWxlID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW3N2ZWx0ZS1pMThuXSBBIFwibG9jYWxlXCIgbXVzdCBiZSBzZXQgdG8gZm9ybWF0IGRhdGVzJyk7XG4gICAgfVxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIG9wdGlvbnMgPSBnZXRJbnRsRm9ybWF0dGVyT3B0aW9ucyhcImRhdGVcIiwgZm9ybWF0KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgb3B0aW9ucyA9IGdldEludGxGb3JtYXR0ZXJPcHRpb25zKFwiZGF0ZVwiLCBcInNob3J0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBvcHRpb25zKTtcbiAgfVxuKTtcbmNvbnN0IGNyZWF0ZVRpbWVGb3JtYXR0ZXIgPSBtb25hZGljTWVtb2l6ZShcbiAgKF9lKSA9PiB7XG4gICAgdmFyIF9mID0gX2UsIHsgbG9jYWxlLCBmb3JtYXQgfSA9IF9mLCBvcHRpb25zID0gX19vYmpSZXN0KF9mLCBbXCJsb2NhbGVcIiwgXCJmb3JtYXRcIl0pO1xuICAgIGlmIChsb2NhbGUgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnW3N2ZWx0ZS1pMThuXSBBIFwibG9jYWxlXCIgbXVzdCBiZSBzZXQgdG8gZm9ybWF0IHRpbWUgdmFsdWVzJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCkge1xuICAgICAgb3B0aW9ucyA9IGdldEludGxGb3JtYXR0ZXJPcHRpb25zKFwidGltZVwiLCBmb3JtYXQpO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMob3B0aW9ucykubGVuZ3RoID09PSAwKSB7XG4gICAgICBvcHRpb25zID0gZ2V0SW50bEZvcm1hdHRlck9wdGlvbnMoXCJ0aW1lXCIsIFwic2hvcnRcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMpO1xuICB9XG4pO1xuY29uc3QgZ2V0TnVtYmVyRm9ybWF0dGVyID0gKF9nID0ge30pID0+IHtcbiAgdmFyIF9oID0gX2csIHtcbiAgICBsb2NhbGUgPSBnZXRDdXJyZW50TG9jYWxlKClcbiAgfSA9IF9oLCBhcmdzID0gX19vYmpSZXN0KF9oLCBbXG4gICAgXCJsb2NhbGVcIlxuICBdKTtcbiAgcmV0dXJuIGNyZWF0ZU51bWJlckZvcm1hdHRlcihfX3NwcmVhZFZhbHVlcyh7IGxvY2FsZSB9LCBhcmdzKSk7XG59O1xuY29uc3QgZ2V0RGF0ZUZvcm1hdHRlciA9IChfaSA9IHt9KSA9PiB7XG4gIHZhciBfaiA9IF9pLCB7XG4gICAgbG9jYWxlID0gZ2V0Q3VycmVudExvY2FsZSgpXG4gIH0gPSBfaiwgYXJncyA9IF9fb2JqUmVzdChfaiwgW1xuICAgIFwibG9jYWxlXCJcbiAgXSk7XG4gIHJldHVybiBjcmVhdGVEYXRlRm9ybWF0dGVyKF9fc3ByZWFkVmFsdWVzKHsgbG9jYWxlIH0sIGFyZ3MpKTtcbn07XG5jb25zdCBnZXRUaW1lRm9ybWF0dGVyID0gKF9rID0ge30pID0+IHtcbiAgdmFyIF9sID0gX2ssIHtcbiAgICBsb2NhbGUgPSBnZXRDdXJyZW50TG9jYWxlKClcbiAgfSA9IF9sLCBhcmdzID0gX19vYmpSZXN0KF9sLCBbXG4gICAgXCJsb2NhbGVcIlxuICBdKTtcbiAgcmV0dXJuIGNyZWF0ZVRpbWVGb3JtYXR0ZXIoX19zcHJlYWRWYWx1ZXMoeyBsb2NhbGUgfSwgYXJncykpO1xufTtcbmNvbnN0IGdldE1lc3NhZ2VGb3JtYXR0ZXIgPSBtb25hZGljTWVtb2l6ZShcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgKG1lc3NhZ2UsIGxvY2FsZSA9IGdldEN1cnJlbnRMb2NhbGUoKSkgPT4gbmV3IEludGxNZXNzYWdlRm9ybWF0KG1lc3NhZ2UsIGxvY2FsZSwgZ2V0T3B0aW9ucygpLmZvcm1hdHMsIHtcbiAgICBpZ25vcmVUYWc6IGdldE9wdGlvbnMoKS5pZ25vcmVUYWdcbiAgfSlcbik7XG5cbmNvbnN0IGZvcm1hdE1lc3NhZ2UgPSAoaWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGxldCBtZXNzYWdlT2JqID0gb3B0aW9ucztcbiAgaWYgKHR5cGVvZiBpZCA9PT0gXCJvYmplY3RcIikge1xuICAgIG1lc3NhZ2VPYmogPSBpZDtcbiAgICBpZCA9IG1lc3NhZ2VPYmouaWQ7XG4gIH1cbiAgY29uc3Qge1xuICAgIHZhbHVlcyxcbiAgICBsb2NhbGUgPSBnZXRDdXJyZW50TG9jYWxlKCksXG4gICAgZGVmYXVsdDogZGVmYXVsdFZhbHVlXG4gIH0gPSBtZXNzYWdlT2JqO1xuICBpZiAobG9jYWxlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIltzdmVsdGUtaTE4bl0gQ2Fubm90IGZvcm1hdCBhIG1lc3NhZ2Ugd2l0aG91dCBmaXJzdCBzZXR0aW5nIHRoZSBpbml0aWFsIGxvY2FsZS5cIlxuICAgICk7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBsb29rdXAoaWQsIGxvY2FsZSk7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIG1lc3NhZ2UgPSAoX2QgPSAoX2MgPSAoX2IgPSAoX2EgPSBnZXRPcHRpb25zKCkpLmhhbmRsZU1pc3NpbmdNZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChfYSwgeyBsb2NhbGUsIGlkLCBkZWZhdWx0VmFsdWUgfSkpICE9IG51bGwgPyBfYyA6IGRlZmF1bHRWYWx1ZSkgIT0gbnVsbCA/IF9kIDogaWQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgW3N2ZWx0ZS1pMThuXSBNZXNzYWdlIHdpdGggaWQgXCIke2lkfVwiIG11c3QgYmUgb2YgdHlwZSBcInN0cmluZ1wiLCBmb3VuZDogXCIke3R5cGVvZiBtZXNzYWdlfVwiLiBHZXR0aW4gaXRzIHZhbHVlIHRocm91Z2ggdGhlIFwiJGZvcm1hdFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkOyB1c2UgdGhlIFwianNvblwiIG1ldGhvZCBpbnN0ZWFkLmBcbiAgICApO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGlmICghdmFsdWVzKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IG1lc3NhZ2U7XG4gIHRyeSB7XG4gICAgcmVzdWx0ID0gZ2V0TWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCBsb2NhbGUpLmZvcm1hdCh2YWx1ZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW3N2ZWx0ZS1pMThuXSBNZXNzYWdlIFwiJHtpZH1cIiBoYXMgc3ludGF4IGVycm9yOmAsXG4gICAgICAgIGUubWVzc2FnZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5jb25zdCBmb3JtYXRUaW1lID0gKHQsIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIGdldFRpbWVGb3JtYXR0ZXIob3B0aW9ucykuZm9ybWF0KHQpO1xufTtcbmNvbnN0IGZvcm1hdERhdGUgPSAoZCwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gZ2V0RGF0ZUZvcm1hdHRlcihvcHRpb25zKS5mb3JtYXQoZCk7XG59O1xuY29uc3QgZm9ybWF0TnVtYmVyID0gKG4sIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIGdldE51bWJlckZvcm1hdHRlcihvcHRpb25zKS5mb3JtYXQobik7XG59O1xuY29uc3QgZ2V0SlNPTiA9IChpZCwgbG9jYWxlID0gZ2V0Q3VycmVudExvY2FsZSgpKSA9PiB7XG4gIHJldHVybiBsb29rdXAoaWQsIGxvY2FsZSk7XG59O1xuY29uc3QgJGZvcm1hdCA9IGRlcml2ZWQoWyRsb2NhbGUsICRkaWN0aW9uYXJ5XSwgKCkgPT4gZm9ybWF0TWVzc2FnZSk7XG5jb25zdCAkZm9ybWF0VGltZSA9IGRlcml2ZWQoWyRsb2NhbGVdLCAoKSA9PiBmb3JtYXRUaW1lKTtcbmNvbnN0ICRmb3JtYXREYXRlID0gZGVyaXZlZChbJGxvY2FsZV0sICgpID0+IGZvcm1hdERhdGUpO1xuY29uc3QgJGZvcm1hdE51bWJlciA9IGRlcml2ZWQoWyRsb2NhbGVdLCAoKSA9PiBmb3JtYXROdW1iZXIpO1xuY29uc3QgJGdldEpTT04gPSBkZXJpdmVkKFskbG9jYWxlLCAkZGljdGlvbmFyeV0sICgpID0+IGdldEpTT04pO1xuXG5mdW5jdGlvbiB1bndyYXBGdW5jdGlvblN0b3JlKHN0b3JlKSB7XG4gIGxldCBsb2NhbFJlZmVyZW5jZTtcbiAgY29uc3QgY2FuY2VsID0gc3RvcmUuc3Vic2NyaWJlKCh2YWx1ZSkgPT4gbG9jYWxSZWZlcmVuY2UgPSB2YWx1ZSk7XG4gIGNvbnN0IGZuID0gKC4uLmFyZ3MpID0+IGxvY2FsUmVmZXJlbmNlKC4uLmFyZ3MpO1xuICBmbi5mcmVlemUgPSBjYW5jZWw7XG4gIHJldHVybiBmbjtcbn1cblxuZnVuY3Rpb24gZGVmaW5lTWVzc2FnZXMoaSkge1xuICByZXR1cm4gaTtcbn1cbmZ1bmN0aW9uIHdhaXRMb2NhbGUobG9jYWxlKSB7XG4gIHJldHVybiBmbHVzaChsb2NhbGUgfHwgZ2V0Q3VycmVudExvY2FsZSgpIHx8IGdldE9wdGlvbnMoKS5pbml0aWFsTG9jYWxlKTtcbn1cblxuZXhwb3J0IHsgJGZvcm1hdCBhcyBfLCBhZGRNZXNzYWdlcywgJGZvcm1hdERhdGUgYXMgZGF0ZSwgZGVmaW5lTWVzc2FnZXMsICRkaWN0aW9uYXJ5IGFzIGRpY3Rpb25hcnksICRmb3JtYXQgYXMgZm9ybWF0LCBnZXREYXRlRm9ybWF0dGVyLCBnZXRMb2NhbGVGcm9tSGFzaCwgZ2V0TG9jYWxlRnJvbUhvc3RuYW1lLCBnZXRMb2NhbGVGcm9tTmF2aWdhdG9yLCBnZXRMb2NhbGVGcm9tUGF0aG5hbWUsIGdldExvY2FsZUZyb21RdWVyeVN0cmluZywgZ2V0TWVzc2FnZUZvcm1hdHRlciwgZ2V0TnVtYmVyRm9ybWF0dGVyLCBnZXRUaW1lRm9ybWF0dGVyLCBpbml0LCAkaXNMb2FkaW5nIGFzIGlzTG9hZGluZywgJGdldEpTT04gYXMganNvbiwgJGxvY2FsZSBhcyBsb2NhbGUsICRsb2NhbGVzIGFzIGxvY2FsZXMsICRmb3JtYXROdW1iZXIgYXMgbnVtYmVyLCByZWdpc3RlckxvY2FsZUxvYWRlciBhcyByZWdpc3RlciwgJGZvcm1hdCBhcyB0LCAkZm9ybWF0VGltZSBhcyB0aW1lLCB1bndyYXBGdW5jdGlvblN0b3JlLCB3YWl0TG9jYWxlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/svelte-i18n/dist/runtime.esm.js\n");

/***/ })

};
;